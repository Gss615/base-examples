<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>css 世界</title>
    <link rel="stylesheet"  type="text/css" href="./style.css">
</head>
<body>
    <!-- 第一节 section1 -->
    <h1>css世界总结</h1>
    <section class="section1">
        <h3>width/height 作用在哪个盒子上？</h3>
        <p>内在盒子也就是<b>容器盒子</b>上。</p>
        <h3>width/height作用细节</h3>
        <h4>width:auto</h4>
        <ul>
            <li>块级元素：父元素的100%</li>
            <li>浮动、绝对定位、inline-block、table元素：auto为内容宽度</li>
            <li>table-layout为auto的表格：最小宽度（单个字符）</li>
            <li>注意：不换行或者单词过长可能会超出父元素宽度</li>
        </ul>

        <h3>利用auto特性</h3>
        <a target="_blank" href="http://demo.cssworld.cn/3/2-3.php">ooo</a>
        <section>
            <div class="nav">

            </div>
        </section>
        <section>
            <div id="box" class="box"><i class="bar"></i>
                <i class="bar"></i>
                <i class="bar"></i>
                <i class="bar"></i>
            </div>
            <p><button id="button">再增加一条数据</button></p>
        </section>
    </section>
    <div class="padding">
        <a>链接</a>
    </div>
</body>
</html>
<script>
    if (document.querySelector) {
    var eleBox = document.getElementById('box');
    // 目前柱子元素和个数
    var eleBars = document.querySelectorAll('#box > i');
    var lenBar = eleBars.length;
    if (eleBox && lenBar) {
        for (var indexBar = 0; indexBar < lenBar; indexBar += 1) {
            // 柱形图的柱子高度和背景色随机
            eleBars[indexBar].style.height = Math.ceil(256 * Math.random()) + 'px';
            eleBars[indexBar].style.backgroundColor = '#' + (Math.random() + '').slice(-6);
        }
    }

    // 增加数据
    var eleBtn = document.getElementById('button');
    if (eleBtn && lenBar) {
        eleBtn.onclick = function() {
            // 随机高度和背景色
            var height = Math.ceil(256 * Math.random()) + 'px';
            var backgroundColor = '#' + (Math.random() + '').slice(-6);

            // 创建柱子元素
            var eleClone = eleBars[0].cloneNode();

            eleClone.style.height = height;
            eleClone.style.backgroundColor = backgroundColor;
            
            // 此处的字符替换为了兼容IE8下的演示效果
            eleBox.innerHTML = eleBox.innerHTML.replace(/I><I/ig, 'I> <I') + ' ' + eleClone.outerHTML;

            lenBar+=1;
            // 最多10条数据
            if (lenBar == 10) {
                this.setAttribute('disabled', 'disabled');
            }
        };
    }
}
</script>